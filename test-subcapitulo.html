<!DOCTYPE html>
<html>
<head>
    <title>Teste Subcapítulo 07-02</title>
</head>
<body>
    <h1>Teste de Acesso ao Subcapítulo 07-02</h1>
    <button onclick="testarSubcapitulo()">Testar Subcapítulo 07-02</button>
    <div id="resultado"></div>

    <script>
        async function testarSubcapitulo() {
            try {
                // Carregar o manifest
                const response = await fetch('data/manifest.json');
                const manifest = await response.json();
                
                // Encontrar capítulo 07
                const cap07 = manifest.secciones.find(s => s.codigo === '07');
                console.log('Capítulo 07:', cap07);
                
                if (!cap07) {
                    document.getElementById('resultado').innerHTML = '<h2>❌ Capítulo 07 não encontrado!</h2>';
                    return;
                }
                
                // Encontrar subcapítulo 07-02
                const subcap07_02 = cap07.subcapitulos.find(sub => sub.codigo === '07-02');
                console.log('Subcapítulo 07-02:', subcap07_02);
                
                if (!subcap07_02) {
                    document.getElementById('resultado').innerHTML = '<h2>❌ Subcapítulo 07-02 não encontrado!</h2>';
                    return;
                }
                
                // Mostrar informações
                document.getElementById('resultado').innerHTML = `
                    <h2>✅ Subcapítulo 07-02 encontrado!</h2>
                    <p><strong>Título:</strong> ${subcap07_02.titulo}</p>
                    <p><strong>Código:</strong> ${subcap07_02.codigo}</p>
                    <p><strong>Items:</strong> ${subcap07_02.items ? subcap07_02.items.length : 0}</p>
                    ${subcap07_02.items && subcap07_02.items.length > 0 ? `
                        <h3>Documentos encontrados:</h3>
                        <ul>
                            ${subcap07_02.items.map(item => `<li><strong>${item.nombre}</strong> - ${item.tipo}</li>`).join('')}
                        </ul>
                    ` : '<p>Nenhum documento encontrado</p>'}
                `;
                
            } catch (error) {
                document.getElementById('resultado').innerHTML = `
                    <h2>❌ Erro ao testar</h2>
                    <p>Erro: ${error.message}</p>
                `;
            }
        }
    </script>
</body>
</html>
